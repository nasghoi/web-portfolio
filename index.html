<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nasrullah J</title>
    <meta name="description" content="All about Nasrullah Jam Sarim - Software Engineer" />
    <meta name="theme-color" content="#5147e5" />

    <!-- Favicon and Icons -->
    <link rel="icon" href="/public/favicon/favicon.ico" type="image/x-icon" />
    <link rel="icon" type="image/png" sizes="16x16" href="/public/favicon/favicon-16x16.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/public/favicon/favicon-32x32.png" />
    <link rel="apple-touch-icon" href="/public/favicon/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="/public/favicon/android-chrome-192x192.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="/public/favicon/android-chrome-512x512.png" />
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Nasrullah J" />
    <meta property="og:description" content="All about Nasrullah Jam Sarim - Software Engineer" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://portfolio.nasrm.com/" />
    <meta property="og:image" content="https://portfolio.nasrm.com/public/favicon/android-chrome-512x512.png" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:site_name" content="Nasrullah J" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&family=Outfit:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Manifest for PWA support -->
    <link rel="manifest" href="/manifest.json" />

    <link rel="stylesheet" href="fanta.css" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
        integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="main.js" defer></script>
</head>

<body>
    <header>
        <a href="/" class="logo">Nasrullah J</a>
        <nav>
            <a href="https://github.com/nasghoi" target="_blank" rel="noopener noreferrer"><i
                    class="fa-brands fa-github"></i></a>
            <a href="https://www.linkedin.com/in/nasrullah-js" target="_blank" rel="noopener noreferrer"><i
                    class="fa-brands fa-square-linkedin"></i></a>
        </nav>
    </header>
    <main>
        <section class="hero-section">
            <h1 class="hero-title">NASRULLAH</h1>

            <div class="hero-content">
                <img src="./public/hero-section.png" alt="hero-image" class="hero-image" />

                <div class="hero-meta">
                    <p class="greeting">Hi I'm Nasrullah Jam Sarim <span class="wave">üëã</span></p>
                    <h5>
                        Proactive and detail-oriented software engineer with
                        a strong foundation in web app and API development.
                        Based in Malaysia , I love to walk, play badminton
                        and create internet things!
                    </h5>
                </div>
            </div>
        </section>
        <section>
            <div class="links-container">
                <i class="fa-solid fa-arrow-right link-arrow"></i>
                <a href="mailto:nasrullahjamsarim@gmail.com" target="_blank" rel="noopener noreferrer"
                    class="social-link">
                    <i class="fa-solid fa-envelope"></i>
                    <span>Email me</span>
                </a>
                <a href="https://github.com/nasghoi" target="_blank" rel="noopener noreferrer" class="social-link">
                    <i class="fa-brands fa-github"></i>
                    <span>GitHub</span>
                </a>
                <a href="https://www.linkedin.com/in/nasrullah-js" target="_blank" rel="noopener noreferrer"
                    class="social-link">
                    <i class="fa-brands fa-linkedin"></i>
                    <span>LinkedIn</span>
                </a>
            </div>
            <div id="play-game">
                <button onclick="playGame()">Play game!</button>
            </div>
            <div style="display: none" class="color-div">
                <h4>Pick a colour</h4>
                <p style="display: none">Huh.. now it's ruined!</p>
                <input type="color" id="color-picker" onchange="changeColor()" value="#0084ff" />
                <button style="display: none" onclick="resetColor()">
                    Reset
                </button>
            </div>
        </section>

        <!-- Educations Section Start -->
        <!-- Educations Section Start -->
        <section>
            <h2>Education</h2>
            <div id="educations-grid" class="grid-container"></div>
        </section>
        <!-- Educations Section End -->

        <!-- Skills Section Start -->
        <!-- Skills Section Start -->
        <section>
            <h2>Skills</h2>
            <div id="skills-grid" class="grid-container"></div>
        </section>
        <!-- Skills Section End -->

        <!-- Projects Section Start -->
        <section>
            <h2>Personal Projects</h2>
            <div class="cards-grid"></div>
        </section>
        <!-- Projects Section End -->

        <!-- Protected Section Start -->
        <section>
            <h2>
                Contributed Projects
                <span class="padlock" id="padlock">üîí</span>
            </h2>
            <div class="cards-grid-cont"></div>
        </section>
        <!-- Protected Section End -->
    </main>
    <footer>
        <p>
            By
            <a href="https://github.com/nasghoi" target="_blank" rel="noopener noreferrer">Nasghoi</a>
            ‚≠ê the repo on
            <a href="https://github.com/nasghoi/dev-notes" target="_blank" rel="noopener noreferrer">Github</a>
        </p>
    </footer>

    <!-- Modal Start -->
    <div id="tokenModal" class="modal">
        <div class="modal-content">
            <h3>Enter Secret Token</h3>
            <input type="text" id="tokenInput" placeholder="Enter token" />
            <!-- Error message placeholder -->
            <p id="errorMessage" style="
                        color: red;
                        margin-bottom: 0.5rem;
                        align-self: flex-start;
                    "></p>
            <button onclick="checkToken()">Submit</button>
        </div>
    </div>
    <!-- Modal End -->

    <!-- Toast container  Start -->
    <div id="toast" class="toast"></div>
    <!-- Toast container End -->

    <script>
        // -- Colour switcher

        // 1. select all html elements, so that we can manipulate them
        const body = document.querySelector("section.hero-section");
        const colorInput = document.getElementById("color-picker");
        const colorDiv = document.querySelector(".color-div");
        const hiddenText = document.querySelector(".color-div p");
        const resetBtn = document.querySelector(".color-div button");
        const playBtn = document.getElementById("play-game");

        // 2. create functions
        function playGame() {
            // enables the play of the game (show the colour selector input)
            colorDiv.style.display = "block";
            playBtn.style.display = "none";
        }

        function changeColor() {
            // take user selected color, assign it to the background color of the website
            const selectedColor = colorInput.value;
            body.style.background = selectedColor;
            resetBtn.style.display = "block";
            hiddenText.style.display = "block";
            colorInput.style.display = "none";
        }

        function resetColor() {
            body.style.background =
                "linear-gradient(to bottom right, #171758, #2a61c7)";
            resetBtn.style.display = "none";
            hiddenText.style.display = "none";
            colorInput.style.display = "block";
            colorDiv.style.display = "none";
            playBtn.style.display = "block";
        }

        // 3. assign functions to the buttons, add function call to the actual elements

        // Contributed projects
        const padlock = document.getElementById("padlock");
        const modal = document.getElementById("tokenModal");
        const tokenInput = document.getElementById("tokenInput");

        const tokens = {
            nas: "aWxvdmV5b3V1bmdrdXphaW5hYg==",
            nab: "bmFzcnVsbGFoamFtc2FyaW1zb2Z0d2FyZWVuZ2luZWVy",
            nasnab: "bmFzbmFiZm9yZXZlcg==",
        };

        padlock.addEventListener("click", () => {
            modal.style.display = "block";
            tokenInput.focus();
        });

        window.addEventListener("click", (e) => {
            if (e.target === modal) modal.style.display = "none";
        });

        function checkToken() {
            const input = document
                .getElementById("tokenInput")
                .value.trim();
            const secret = atob(tokens.nab);
            const errorMessage = document.getElementById("errorMessage");

            if (input === secret) {
                const section = document.querySelector(".cards-grid-cont");
                section.style.display = "grid";

                padlock.textContent = "üîì";
                modal.style.display = "none";
                errorMessage.textContent = "";
                loadContProjects();
                padlock.style.pointerEvents = "none";
                padlock.style.cursor = "default";

                showToast("Access granted! Section unlocked üîì");
                // Try to scroll the section to the top of the viewport
                section.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest",
                });
                // Fallback for browsers that don't support options
                setTimeout(() => {
                    window.scrollTo({
                        top:
                            section.getBoundingClientRect().top +
                            window.scrollY -
                            20,
                        behavior: "smooth",
                    });
                }, 500);
            } else {
                errorMessage.textContent = "Oops, try again üòè";
            }
        }

        // clear error message on input
        tokenInput.addEventListener("input", () => {
            errorMessage.textContent = "";
        });

        // allow Enter key to submit token
        tokenInput.addEventListener("keydown", function (event) {
            if (event.key === "Enter") {
                event.preventDefault();
                checkToken();
            }
        });
    </script>
</body>

</html>